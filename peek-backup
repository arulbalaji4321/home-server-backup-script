#!/bin/bash

MOUNT_POINT="/mnt/my-drive"
DEVICE="/dev/sdb1"  # Updated to the correct partition

echo "ğŸ”„ Checking if $DEVICE is already mounted..."
if mountpoint -q "$MOUNT_POINT"; then
    echo "âš  Already mounted at $MOUNT_POINT. Unmounting..."
    sudo umount "$MOUNT_POINT" || { echo "âŒ Failed to unmount. Exiting."; exit 1; }
fi

echo "âš¡ Mounting $DEVICE to $MOUNT_POINT..."
sudo mkdir -p "$MOUNT_POINT"
sudo mount "$DEVICE" "$MOUNT_POINT" && echo "âœ… Mounted successfully!" || { echo "âŒ Failed to mount."; exit 1; }

echo "ğŸ“‚ Scanning disk usage with ncdu..."
ncdu "$MOUNT_POINT"

echo "ğŸ—‚ Opening Ranger..."
ranger "$MOUNT_POINT"

